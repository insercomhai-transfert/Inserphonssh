{
  "version": "Notebook/1.0",
  "items": [
    {
      "type": 9,
      "content": {
        "version": "KqlParameterItem/1.0",
        "crossComponentResources": [
          "Azure Monitor"
        ],
        "parameters": [
          {
            "id": "02a5cded-246f-46e7-97b9-1a19d24d73fa",
            "version": "KqlParameterItem/1.0",
            "name": "Cluster",
            "type": 5,
            "description": "Cluster that workbook shows logs/metrics for",
            "isRequired": true,
            "value": null,
            "typeSettings": {
              "additionalResourceOptions": [
                "value::1"
              ],
              "showDefault": false
            },
            "timeContext": {
              "durationMs": 86400000
            }
          },
          {
            "id": "9f475fe8-e98b-4e4d-bd5d-43b44b011bb7",
            "version": "KqlParameterItem/1.0",
            "name": "TimeRange",
            "type": 4,
            "description": "Time range of metrics displayed",
            "isRequired": true,
            "value": {
              "durationMs": 300000
            },
            "typeSettings": {
              "selectableValues": [
                {
                  "durationMs": 300000
                },
                {
                  "durationMs": 900000
                },
                {
                  "durationMs": 1800000
                },
                {
                  "durationMs": 3600000
                },
                {
                  "durationMs": 14400000
                },
                {
                  "durationMs": 43200000
                },
                {
                  "durationMs": 86400000
                },
                {
                  "durationMs": 172800000
                },
                {
                  "durationMs": 259200000
                },
                {
                  "durationMs": 604800000
                },
                {
                  "durationMs": 1209600000
                },
                {
                  "durationMs": 2419200000
                },
                {
                  "durationMs": 2592000000
                },
                {
                  "durationMs": 5184000000
                },
                {
                  "durationMs": 7776000000
                }
              ],
              "allowCustom": true
            }
          },
          {
            "id": "52704d08-8f4f-464f-af20-64d15ef6b0f9",
            "version": "KqlParameterItem/1.0",
            "name": "usage",
            "type": 1,
            "isRequired": true,
            "query": "let hasNonEmptyTable = (T:string, T2:string) \r\n{ \r\n   toscalar( \r\n   union isfuzzy=true \r\n   ( table(T) | take 1 | count as Count ),\r\n   ( table(T2) | take 1 | count as Count),\r\n   (print Count=0) \r\n   | summarize sum(Count) \r\n   ) > 1\r\n};\r\nlet TableName = 'HDInsightAmbariSystemMetrics';\r\nlet TableName2 = 'HDInsightAmbariClusterAlerts';\r\nprint  IsPresent=iif(hasNonEmptyTable(TableName,TableName2 ), \"present\", \"not present\")",
            "crossComponentResources": [
              "{Cluster}"
            ],
            "isHiddenWhenLocked": true,
            "queryType": 0,
            "resourceType": "microsoft.hdinsight/clusters"
          }
        ],
        "style": "pills",
        "queryType": 0,
        "resourceType": "microsoft.hdinsight/clusters"
      },
      "name": "parameters - 0"
    },
    {
      "type": 12,
      "content": {
        "version": "NotebookGroup/1.0",
        "groupType": "editable",
        "items": [
          {
            "type": 11,
            "content": {
              "version": "LinkItem/1.0",
              "style": "tabs",
              "links": [
                {
                  "id": "4f734a6e-7744-4513-8779-0e088abd868d",
                  "cellValue": "tab",
                  "linkTarget": "parameter",
                  "linkLabel": "Topology",
                  "subTarget": "Topology",
                  "style": "link"
                },
                {
                  "id": "c0de5b5d-8aee-4a81-bb46-23f2d61ee83e",
                  "cellValue": "tab",
                  "linkTarget": "parameter",
                  "linkLabel": "JVM",
                  "subTarget": "JVM",
                  "style": "link"
                },
                {
                  "id": "9a275021-a0e2-4ffe-b6a1-e2e91c3faf5e",
                  "cellValue": "tab",
                  "linkTarget": "parameter",
                  "linkLabel": "System Metrics",
                  "subTarget": "SystemMetrics",
                  "style": "link"
                },
                {
                  "id": "68a7018d-704b-42d8-99da-b02557f33690",
                  "cellValue": "tab",
                  "linkTarget": "parameter",
                  "linkLabel": "Component Logs",
                  "subTarget": "ComponentLogs",
                  "style": "link"
                }
              ]
            },
            "name": "Tabs"
          },
          {
            "type": 12,
            "content": {
              "version": "NotebookGroup/1.0",
              "groupType": "editable",
              "title": "Topology Information",
              "items": [
                {
                  "type": 11,
                  "content": {
                    "version": "LinkItem/1.0",
                    "style": "tabs",
                    "links": [
                      {
                        "id": "f7c046fc-26ff-4600-bf2b-a33fd86688fd",
                        "cellValue": "top_tab",
                        "linkTarget": "parameter",
                        "linkLabel": "Overview",
                        "subTarget": "Overview",
                        "style": "link"
                      },
                      {
                        "id": "6bbe02fd-5ed6-4a78-89ad-bdb5416e02a2",
                        "cellValue": "top_tab",
                        "linkTarget": "parameter",
                        "linkLabel": "Capacity",
                        "subTarget": "Capacity",
                        "preText": "",
                        "style": "link"
                      },
                      {
                        "id": "2f8c2aa1-ed10-42c6-becf-d9d707e864cf",
                        "cellValue": "top_tab",
                        "linkTarget": "parameter",
                        "linkLabel": "Latency",
                        "subTarget": "Latency",
                        "style": "link"
                      },
                      {
                        "id": "9d626e63-01d9-4521-bf90-63ed02773b36",
                        "cellValue": "top_tab",
                        "linkTarget": "parameter",
                        "linkLabel": "Messaging",
                        "subTarget": "Messaging",
                        "style": "link"
                      }
                    ]
                  },
                  "name": "links - 4"
                },
                {
                  "type": 12,
                  "content": {
                    "version": "NotebookGroup/1.0",
                    "groupType": "editable",
                    "items": [
                      {
                        "type": 3,
                        "content": {
                          "version": "KqlItem/1.0",
                          "query": "HDInsightStormTopologyMetrics\r\n| where Status == \"ACTIVE\" and TimeGenerated {TimeRange}\r\n| summarize arg_max(TimeGenerated, *) by TopologyId\r\n| summarize count(TopologyId) by ClusterName\r\n| project  ClusterName, count_TopologyId\r\n| take 1\r\n",
                          "size": 4,
                          "showAnalytics": true,
                          "title": "Topology Count",
                          "timeContext": {
                            "durationMs": 300000
                          },
                          "timeContextFromParameter": "TimeRange",
                          "queryType": 0,
                          "resourceType": "microsoft.hdinsight/clusters",
                          "crossComponentResources": [
                            "{Cluster}"
                          ],
                          "visualization": "tiles",
                          "tileSettings": {
                            "titleContent": {
                              "columnMatch": "ClusterName",
                              "formatter": 11
                            },
                            "leftContent": {
                              "columnMatch": "count_TopologyId"
                            },
                            "showBorder": true,
                            "sortCriteriaField": "ClusterName"
                          }
                        },
                        "customWidth": "33",
                        "name": "Topology Count"
                      },
                      {
                        "type": 3,
                        "content": {
                          "version": "KqlItem/1.0",
                          "query": "HDInsightStormTopologyMetrics\r\n| where Status == \"ACTIVE\"\r\n| summarize arg_max(TimeGenerated, *) by TopologyId\r\n| sort by TimeGenerated desc\r\n| project TopologyId, Uptime, WorkersTotal, ExecutorsTotal, TasksTotal, ReplicationCount, AssignedTotalMemMB",
                          "size": 0,
                          "showAnalytics": true,
                          "timeContext": {
                            "durationMs": 300000
                          },
                          "timeContextFromParameter": "TimeRange",
                          "queryType": 0,
                          "resourceType": "microsoft.hdinsight/clusters",
                          "crossComponentResources": [
                            "{Cluster}"
                          ],
                          "visualization": "table",
                          "gridSettings": {
                            "formatters": [
                              {
                                "columnMatch": "AssignedTotalMemMB",
                                "formatter": 0,
                                "numberFormat": {
                                  "unit": 4,
                                  "options": {
                                    "style": "decimal",
                                    "useGrouping": false
                                  }
                                }
                              }
                            ]
                          }
                        },
                        "name": "query - 2"
                      }
                    ]
                  },
                  "conditionalVisibility": {
                    "parameterName": "top_tab",
                    "comparison": "isEqualTo",
                    "value": "Overview"
                  },
                  "name": "Topology Overview"
                },
                {
                  "type": 12,
                  "content": {
                    "version": "NotebookGroup/1.0",
                    "groupType": "editable",
                    "items": [
                      {
                        "type": 3,
                        "content": {
                          "version": "KqlItem/1.0",
                          "query": "HDInsightStormTopologyMetrics\r\n| summarize Capacity = avg(Capacity) by bin(TimeGenerated, {TimeRange:grain}), TopologyId\r\n| sort by TimeGenerated desc",
                          "size": 0,
                          "aggregation": 5,
                          "showAnalytics": true,
                          "title": "Topology Capacity",
                          "timeContext": {
                            "durationMs": 0
                          },
                          "timeContextFromParameter": "TimeRange",
                          "queryType": 0,
                          "resourceType": "microsoft.hdinsight/clusters",
                          "crossComponentResources": [
                            "{Cluster}"
                          ],
                          "visualization": "linechart"
                        },
                        "name": "Topology Capacity"
                      },
                      {
                        "type": 12,
                        "content": {
                          "version": "NotebookGroup/1.0",
                          "groupType": "editable",
                          "items": [
                            {
                              "type": 3,
                              "content": {
                                "version": "KqlItem/1.0",
                                "query": "HDInsightStormTopologyMetrics\r\n| where ClusterName == '{Cluster:label}'\r\n| where isnotnull(Capacity)\r\n| summarize arg_max(TimeGenerated, *) by TopologyId\r\n| project TimeGenerated, TopologyId, Capacity\r\n",
                                "size": 0,
                                "aggregation": 5,
                                "showAnalytics": true,
                                "timeContext": {
                                  "durationMs": 86400000
                                },
                                "timeContextFromParameter": "TimeRange",
                                "queryType": 0,
                                "resourceType": "microsoft.operationalinsights/workspaces",
                                "crossComponentResources": [
                                  "{LogAnalyticsWorkspaceName}"
                                ],
                                "visualization": "table"
                              },
                              "name": "Topology Capacity"
                            }
                          ]
                        },
                        "conditionalVisibilities": [
                          {
                            "parameterName": "tab",
                            "comparison": "isEqualTo",
                            "value": "Capacity"
                          },
                          {
                            "parameterName": "Cluster",
                            "comparison": "isNotEqualTo"
                          }
                        ],
                        "name": "Capacity Grid"
                      }
                    ]
                  },
                  "conditionalVisibilities": [
                    {
                      "parameterName": "top_tab",
                      "comparison": "isEqualTo",
                      "value": "Capacity"
                    },
                    {
                      "parameterName": "Cluster",
                      "comparison": "isNotEqualTo"
                    }
                  ],
                  "name": "Capacity"
                },
                {
                  "type": 12,
                  "content": {
                    "version": "NotebookGroup/1.0",
                    "groupType": "editable",
                    "items": [
                      {
                        "type": 3,
                        "content": {
                          "version": "KqlItem/1.0",
                          "query": "HDInsightStormTopologyMetrics\r\n| where InstanceName == \"bolt\"\r\n| summarize Latency = avg(ProcessLatencyMs) by bin(TimeGenerated, {TimeRange:grain}), TopologyId\r\n| sort by TimeGenerated desc",
                          "size": 0,
                          "aggregation": 5,
                          "showAnalytics": true,
                          "title": "Process Latency",
                          "timeContext": {
                            "durationMs": 0
                          },
                          "timeContextFromParameter": "TimeRange",
                          "queryType": 0,
                          "resourceType": "microsoft.hdinsight/clusters",
                          "crossComponentResources": [
                            "{Cluster}"
                          ],
                          "visualization": "linechart",
                          "chartSettings": {
                            "ySettings": {
                              "numberFormatSettings": {
                                "unit": 23,
                                "options": {
                                  "style": "decimal",
                                  "useGrouping": true
                                }
                              }
                            }
                          }
                        },
                        "name": "Process Latency"
                      },
                      {
                        "type": 3,
                        "content": {
                          "version": "KqlItem/1.0",
                          "query": "HDInsightStormTopologyMetrics\r\n| where InstanceName == \"bolt\"\r\n| summarize Latency = avg(ExecuteLatencyMs) by bin(TimeGenerated, {TimeRange:grain}), TopologyId\r\n| sort by TimeGenerated desc",
                          "size": 0,
                          "aggregation": 5,
                          "showAnalytics": true,
                          "title": "Execute Latency",
                          "timeContext": {
                            "durationMs": 0
                          },
                          "timeContextFromParameter": "TimeRange",
                          "queryType": 0,
                          "resourceType": "microsoft.hdinsight/clusters",
                          "crossComponentResources": [
                            "{Cluster}"
                          ],
                          "visualization": "linechart",
                          "chartSettings": {
                            "ySettings": {
                              "numberFormatSettings": {
                                "unit": 23,
                                "options": {
                                  "style": "decimal",
                                  "useGrouping": true
                                }
                              }
                            }
                          }
                        },
                        "name": "Execute Latency in MS"
                      },
                      {
                        "type": 3,
                        "content": {
                          "version": "KqlItem/1.0",
                          "query": "HDInsightStormTopologyMetrics\r\n| where InstanceName == \"spout\"\r\n| summarize Latency = avg(CompleteLatencyMs) by bin(TimeGenerated, {TimeRange:grain}), TopologyId\r\n| sort by TimeGenerated desc",
                          "size": 0,
                          "aggregation": 5,
                          "showAnalytics": true,
                          "title": "Complete Latency",
                          "timeContext": {
                            "durationMs": 0
                          },
                          "timeContextFromParameter": "TimeRange",
                          "queryType": 0,
                          "resourceType": "microsoft.hdinsight/clusters",
                          "crossComponentResources": [
                            "{Cluster}"
                          ],
                          "visualization": "linechart",
                          "chartSettings": {
                            "ySettings": {
                              "numberFormatSettings": {
                                "unit": 23,
                                "options": {
                                  "style": "decimal",
                                  "useGrouping": true
                                }
                              }
                            }
                          }
                        },
                        "name": "Complete Latency in MS"
                      }
                    ]
                  },
                  "conditionalVisibilities": [
                    {
                      "parameterName": "top_tab",
                      "comparison": "isEqualTo",
                      "value": "Latency"
                    },
                    {
                      "parameterName": "Cluster",
                      "comparison": "isNotEqualTo"
                    }
                  ],
                  "name": "Latency"
                },
                {
                  "type": 12,
                  "content": {
                    "version": "NotebookGroup/1.0",
                    "groupType": "editable",
                    "title": "Messaging Metrics",
                    "items": [
                      {
                        "type": 3,
                        "content": {
                          "version": "KqlItem/1.0",
                          "query": "HDInsightStormTopologyMetrics\r\n| where  InstanceName == \"bolt\" \r\n| summarize Acked = avg(Acked) by bin(TimeGenerated, {TimeRange:grain}), TopologyId, Id \r\n| sort by TimeGenerated desc\r\n",
                          "size": 0,
                          "aggregation": 5,
                          "showAnalytics": true,
                          "title": "Acked",
                          "timeContext": {
                            "durationMs": 0
                          },
                          "timeContextFromParameter": "TimeRange",
                          "queryType": 0,
                          "resourceType": "microsoft.hdinsight/clusters",
                          "crossComponentResources": [
                            "{Cluster}"
                          ],
                          "visualization": "linechart",
                          "chartSettings": {
                            "ySettings": {
                              "numberFormatSettings": {
                                "unit": 30,
                                "options": {
                                  "style": "decimal",
                                  "useGrouping": true
                                }
                              }
                            }
                          }
                        },
                        "name": "Acked"
                      },
                      {
                        "type": 3,
                        "content": {
                          "version": "KqlItem/1.0",
                          "query": "HDInsightStormTopologyMetrics\r\n| where Window == 600 and InstanceName == \"topology_stats\" \r\n| summarize Emitted = avg(Emitted) by bin(TimeGenerated, {TimeRange:grain}), TopologyId, Id \r\n| sort by TimeGenerated desc\r\n",
                          "size": 0,
                          "aggregation": 5,
                          "showAnalytics": true,
                          "title": "Emitted",
                          "timeContext": {
                            "durationMs": 0
                          },
                          "timeContextFromParameter": "TimeRange",
                          "queryType": 0,
                          "resourceType": "microsoft.hdinsight/clusters",
                          "crossComponentResources": [
                            "{Cluster}"
                          ],
                          "visualization": "linechart",
                          "chartSettings": {
                            "ySettings": {
                              "numberFormatSettings": {
                                "unit": 30,
                                "options": {
                                  "style": "decimal",
                                  "useGrouping": true
                                }
                              }
                            }
                          }
                        },
                        "name": "Emitted"
                      },
                      {
                        "type": 3,
                        "content": {
                          "version": "KqlItem/1.0",
                          "query": "HDInsightStormTopologyMetrics\r\n| where Window == 600 and InstanceName == \"topology_stats\" \r\n| summarize Transferred = avg(Transferred) by bin(TimeGenerated, {TimeRange:grain}), TopologyId, Id \r\n| sort by TimeGenerated desc\r\n",
                          "size": 0,
                          "aggregation": 5,
                          "showAnalytics": true,
                          "title": "Transferred",
                          "timeContext": {
                            "durationMs": 0
                          },
                          "timeContextFromParameter": "TimeRange",
                          "queryType": 0,
                          "resourceType": "microsoft.hdinsight/clusters",
                          "crossComponentResources": [
                            "{Cluster}"
                          ],
                          "visualization": "linechart",
                          "chartSettings": {
                            "ySettings": {
                              "numberFormatSettings": {
                                "unit": 30,
                                "options": {
                                  "style": "decimal",
                                  "useGrouping": true
                                }
                              }
                            }
                          }
                        },
                        "name": "Transferred"
                      },
                      {
                        "type": 3,
                        "content": {
                          "version": "KqlItem/1.0",
                          "query": "HDInsightStormTopologyMetrics\r\n| where Window == 600 and InstanceName == \"topology_stats\" \r\n| summarize Failed = avg(Failed) by bin(TimeGenerated, {TimeRange:grain}), TopologyId, Id \r\n| sort by TimeGenerated desc\r\n",
                          "size": 0,
                          "aggregation": 5,
                          "showAnalytics": true,
                          "title": "Failed",
                          "timeContext": {
                            "durationMs": 0
                          },
                          "timeContextFromParameter": "TimeRange",
                          "queryType": 0,
                          "resourceType": "microsoft.hdinsight/clusters",
                          "crossComponentResources": [
                            "{Cluster}"
                          ],
                          "visualization": "linechart",
                          "chartSettings": {
                            "ySettings": {
                              "numberFormatSettings": {
                                "unit": 30,
                                "options": {
                                  "style": "decimal",
                                  "useGrouping": true
                                }
                              }
                            }
                          }
                        },
                        "name": "Failed"
                      }
                    ]
                  },
                  "conditionalVisibility": {
                    "parameterName": "top_tab",
                    "comparison": "isEqualTo",
                    "value": "Messaging"
                  },
                  "name": "Messaging"
                }
              ]
            },
            "conditionalVisibilities": [
              {
                "parameterName": "tab",
                "comparison": "isEqualTo",
                "value": "Topology"
              },
              {
                "parameterName": "Cluster",
                "comparison": "isNotEqualTo"
              }
            ],
            "name": "Topology"
          },
          {
            "type": 12,
            "content": {
              "version": "NotebookGroup/1.0",
              "groupType": "editable",
              "title": "JVM Metrics",
              "items": [
                {
                  "type": 3,
                  "content": {
                    "version": "KqlItem/1.0",
                    "query": "HDInsightStormMetrics\r\n| where MetricName == \"nimbus-jvm-memory-heap-used\"\r\n| summarize avg(MetricValue) by HostName, bin(TimeGenerated,{TimeRange:grain})\r\n| order by TimeGenerated desc\r\n| take 10000",
                    "size": 0,
                    "aggregation": 5,
                    "showAnalytics": true,
                    "title": "Nimbus JVM Heap Usage",
                    "timeContext": {
                      "durationMs": 0
                    },
                    "timeContextFromParameter": "TimeRange",
                    "queryType": 0,
                    "resourceType": "microsoft.hdinsight/clusters",
                    "crossComponentResources": [
                      "{Cluster}"
                    ],
                    "visualization": "linechart",
                    "chartSettings": {
                      "ySettings": {
                        "numberFormatSettings": {
                          "unit": 2,
                          "options": {
                            "style": "decimal",
                            "useGrouping": true
                          }
                        }
                      }
                    }
                  },
                  "customWidth": "50",
                  "name": "Nimbus JVM Heap Usage"
                },
                {
                  "type": 3,
                  "content": {
                    "version": "KqlItem/1.0",
                    "query": "HDInsightStormMetrics\r\n| where MetricName contains \"nimbus-jvm-memory-heap\"\r\n| evaluate pivot(MetricName, avg(MetricValue), TimeGenerated, HostName)\r\n| summarize PercentHeapUsed = avg((['nimbus-jvm-memory-heap-used']/['nimbus-jvm-memory-heap-committed'])*100) by HostName, bin(TimeGenerated,{TimeRange:grain})\r\n| order by TimeGenerated desc\r\n| take 10000",
                    "size": 0,
                    "aggregation": 5,
                    "showAnalytics": true,
                    "title": "Nimbus JVM Heap Usage Percentage ",
                    "timeContext": {
                      "durationMs": 0
                    },
                    "timeContextFromParameter": "TimeRange",
                    "queryType": 0,
                    "resourceType": "microsoft.hdinsight/clusters",
                    "crossComponentResources": [
                      "{Cluster}"
                    ],
                    "visualization": "linechart",
                    "chartSettings": {
                      "ySettings": {
                        "numberFormatSettings": {
                          "unit": 1,
                          "options": {
                            "style": "decimal",
                            "useGrouping": true
                          }
                        }
                      }
                    }
                  },
                  "customWidth": "50",
                  "name": "Nimbus JVM Heap Usage Percentage "
                },
                {
                  "type": 3,
                  "content": {
                    "version": "KqlItem/1.0",
                    "query": "HDInsightStormMetrics\r\n| where MetricName == \"supervisor-jvm-memory-heap-used\"\r\n| summarize avg(MetricValue) by HostName, bin(TimeGenerated,{TimeRange:grain})\r\n| order by TimeGenerated desc\r\n| take 10000",
                    "size": 0,
                    "aggregation": 5,
                    "showAnalytics": true,
                    "title": "Supervisor JVM Heap Usage",
                    "timeContext": {
                      "durationMs": 0
                    },
                    "timeContextFromParameter": "TimeRange",
                    "queryType": 0,
                    "resourceType": "microsoft.hdinsight/clusters",
                    "crossComponentResources": [
                      "{Cluster}"
                    ],
                    "visualization": "linechart",
                    "chartSettings": {
                      "ySettings": {
                        "numberFormatSettings": {
                          "unit": 2,
                          "options": {
                            "style": "decimal",
                            "useGrouping": true
                          }
                        }
                      }
                    }
                  },
                  "customWidth": "50",
                  "name": "Supervisor JVM Heap Usage"
                },
                {
                  "type": 3,
                  "content": {
                    "version": "KqlItem/1.0",
                    "query": "HDInsightStormMetrics\r\n| where MetricName contains \"supervisor-jvm-memory-heap\"\r\n| evaluate pivot(MetricName, avg(MetricValue), TimeGenerated, HostName)\r\n| summarize PercentHeapUsed = avg((['supervisor-jvm-memory-heap-used']/['supervisor-jvm-memory-heap-committed'])*100) by HostName, bin(TimeGenerated,{TimeRange:grain})\r\n| order by TimeGenerated desc\r\n| take 10000",
                    "size": 0,
                    "aggregation": 5,
                    "showAnalytics": true,
                    "title": "Supervisor JVM Heap Usage Percentage",
                    "timeContext": {
                      "durationMs": 0
                    },
                    "timeContextFromParameter": "TimeRange",
                    "queryType": 0,
                    "resourceType": "microsoft.hdinsight/clusters",
                    "crossComponentResources": [
                      "{Cluster}"
                    ],
                    "visualization": "linechart",
                    "chartSettings": {
                      "ySettings": {
                        "numberFormatSettings": {
                          "unit": 1,
                          "options": {
                            "style": "decimal",
                            "useGrouping": true
                          }
                        }
                      }
                    }
                  },
                  "customWidth": "50",
                  "name": "Supervisor JVM Heap Usage Percentage"
                }
              ]
            },
            "conditionalVisibilities": [
              {
                "parameterName": "Cluster",
                "comparison": "isNotEqualTo"
              },
              {
                "parameterName": "tab",
                "comparison": "isEqualTo",
                "value": "JVM"
              }
            ],
            "name": "JVM"
          },
          {
            "type": 12,
            "content": {
              "version": "NotebookGroup/1.0",
              "groupType": "editable",
              "title": "System Metrics",
              "items": [
                {
                  "type": 11,
                  "content": {
                    "version": "LinkItem/1.0",
                    "style": "tabs",
                    "links": [
                      {
                        "id": "623b56d9-85b7-4708-b6f5-096f91d8a697",
                        "cellValue": "metrics_tab",
                        "linkTarget": "parameter",
                        "linkLabel": "Disk",
                        "subTarget": "Disk",
                        "preText": "Disk",
                        "style": "link"
                      },
                      {
                        "id": "7906c8da-965b-4910-9823-44f4e17d40fa",
                        "cellValue": "metrics_tab",
                        "linkTarget": "parameter",
                        "linkLabel": "CPU",
                        "subTarget": "CPU",
                        "style": "link"
                      },
                      {
                        "id": "9cf5e622-416e-4714-8f04-55e13dded4b4",
                        "cellValue": "metrics_tab",
                        "linkTarget": "parameter",
                        "linkLabel": "Memory",
                        "subTarget": "Memory",
                        "style": "link"
                      },
                      {
                        "id": "8e2525b1-e020-4f04-a2fc-d9154b2d3640",
                        "cellValue": "metrics_tab",
                        "linkTarget": "parameter",
                        "linkLabel": "Load",
                        "subTarget": "Load",
                        "style": "link"
                      }
                    ]
                  },
                  "name": "links - 4"
                },
                {
                  "type": 12,
                  "content": {
                    "version": "NotebookGroup/1.0",
                    "groupType": "editable",
                    "title": "Disk",
                    "items": [
                      {
                        "type": 3,
                        "content": {
                          "version": "KqlItem/1.0",
                          "query": "HDInsightAmbariSystemMetrics\r\n| extend NodeType = substring(HostName,0,2)\r\n| summarize DiskPercentUsed = (1 - sum(DiskFree)/sum(DiskTotal))*100 by NodeType, bin(TimeGenerated, {TimeRange:grain})\r\n|order by TimeGenerated desc\r\n| take 10000",
                          "size": 0,
                          "aggregation": 5,
                          "showAnalytics": true,
                          "title": "Disk Usage Percentage by Node Type",
                          "timeContext": {
                            "durationMs": 7776000000
                          },
                          "timeContextFromParameter": "TimeRange",
                          "queryType": 0,
                          "resourceType": "microsoft.hdinsight/clusters",
                          "crossComponentResources": [
                            "{Cluster}"
                          ],
                          "visualization": "linechart",
                          "gridSettings": {
                            "formatters": [
                              {
                                "columnMatch": "DiskPercentFree",
                                "formatter": 0,
                                "numberFormat": {
                                  "unit": 0,
                                  "options": {
                                    "style": "percent",
                                    "useGrouping": false
                                  }
                                }
                              }
                            ]
                          },
                          "chartSettings": {
                            "ySettings": {
                              "numberFormatSettings": {
                                "unit": 1,
                                "options": {
                                  "style": "decimal",
                                  "useGrouping": true,
                                  "maximumSignificantDigits": 3
                                }
                              }
                            }
                          }
                        },
                        "customWidth": "50",
                        "name": "query - 0"
                      },
                      {
                        "type": 3,
                        "content": {
                          "version": "KqlItem/1.0",
                          "query": "HDInsightAmbariSystemMetrics\r\n| summarize  DiskPercentUsed = (1 - sum(DiskFree)/sum(DiskTotal))*100, DiskUsedGB=avg(DiskTotal - DiskFree) by HostName, bin(TimeGenerated, {TimeRange:grain})\r\n| order by TimeGenerated, HostName desc\r\n| summarize arg_max(TimeGenerated, *) by HostName\r\n| sort by DiskPercentUsed desc\r\n",
                          "size": 0,
                          "aggregation": 5,
                          "showAnalytics": true,
                          "title": "Disk Used Percentage by Host",
                          "timeContext": {
                            "durationMs": 7776000000
                          },
                          "timeContextFromParameter": "TimeRange",
                          "queryType": 0,
                          "resourceType": "microsoft.hdinsight/clusters",
                          "crossComponentResources": [
                            "{Cluster}"
                          ],
                          "visualization": "table",
                          "gridSettings": {
                            "formatters": [
                              {
                                "columnMatch": "DiskPercentUsed",
                                "formatter": 8,
                                "formatOptions": {
                                  "min": 0,
                                  "max": 100,
                                  "palette": "greenRed"
                                },
                                "numberFormat": {
                                  "unit": 1,
                                  "options": {
                                    "style": "decimal",
                                    "useGrouping": false,
                                    "maximumSignificantDigits": 3
                                  }
                                }
                              },
                              {
                                "columnMatch": "DiskUsedGB",
                                "formatter": 0,
                                "numberFormat": {
                                  "unit": 0,
                                  "options": {
                                    "style": "decimal",
                                    "useGrouping": false,
                                    "maximumFractionDigits": 2
                                  }
                                }
                              }
                            ],
                            "sortBy": [
                              {
                                "itemKey": "$gen_heatmap_DiskPercentUsed_2",
                                "sortOrder": 2
                              }
                            ]
                          },
                          "sortBy": [
                            {
                              "itemKey": "$gen_heatmap_DiskPercentUsed_2",
                              "sortOrder": 2
                            }
                          ]
                        },
                        "customWidth": "50",
                        "name": "Disk Usage Per Host"
                      },
                      {
                        "type": 3,
                        "content": {
                          "version": "KqlItem/1.0",
                          "query": "HDInsightAmbariSystemMetrics\r\n| where ClusterName == '{Cluster:label}'\r\n| where TimeGenerated {TimeRange}\r\n| make-series avg(ReadCount) default=double(null) on TimeGenerated in range({TimeRange:start} , {TimeRange:end}, {TimeRange:grain}) by HostName\r\n| extend filled_avg_metric_value = series_fill_forward(avg_ReadCount) \r\n| mv-expand TimeGenerated to typeof(datetime), filled_avg_metric_value to typeof(int)\r\n| order by HostName desc,TimeGenerated asc \r\n| extend RateOfChange = iif(prev(HostName) == HostName, (filled_avg_metric_value - prev(filled_avg_metric_value, 1))/60.0, 0.0)\r\n| project TimeGenerated, HostName, RateOfChange",
                          "size": 0,
                          "aggregation": 5,
                          "showAnalytics": true,
                          "title": "Disk Read Count Per Second by Host",
                          "timeContext": {
                            "durationMs": 7776000000
                          },
                          "timeContextFromParameter": "TimeRange",
                          "queryType": 0,
                          "resourceType": "microsoft.hdinsight/clusters",
                          "crossComponentResources": [
                            "{Cluster}"
                          ],
                          "visualization": "linechart"
                        },
                        "customWidth": "50",
                        "showPin": true,
                        "name": "Disk Read Count Per Second"
                      },
                      {
                        "type": 3,
                        "content": {
                          "version": "KqlItem/1.0",
                          "query": "HDInsightAmbariSystemMetrics\r\n| where TimeGenerated {TimeRange}\r\n| make-series avg(WriteCount) default=double(null) on TimeGenerated in range({TimeRange:start} , {TimeRange:end}, {TimeRange:grain}) by HostName\r\n| extend filled_avg_metric_value = series_fill_forward(avg_WriteCount) \r\n| mv-expand TimeGenerated to typeof(datetime), filled_avg_metric_value to typeof(int)\r\n| order by HostName desc,TimeGenerated asc \r\n| extend RateOfChange = iif(prev(HostName) == HostName, (filled_avg_metric_value - prev(filled_avg_metric_value, 1))/60.0, 0.0)\r\n| project TimeGenerated, HostName, RateOfChange",
                          "size": 0,
                          "aggregation": 5,
                          "showAnalytics": true,
                          "title": "Disk Write Count Per Second by Host",
                          "timeContext": {
                            "durationMs": 7776000000
                          },
                          "timeContextFromParameter": "TimeRange",
                          "queryType": 0,
                          "resourceType": "microsoft.hdinsight/clusters",
                          "crossComponentResources": [
                            "{Cluster}"
                          ],
                          "visualization": "linechart"
                        },
                        "customWidth": "50",
                        "showPin": true,
                        "name": "Disk Write Count Per Second by Host"
                      }
                    ]
                  },
                  "conditionalVisibilities": [
                    {
                      "parameterName": "Cluster",
                      "comparison": "isNotEqualTo"
                    },
                    {
                      "parameterName": "metrics_tab",
                      "comparison": "isEqualTo",
                      "value": "Disk"
                    }
                  ],
                  "name": "Disk"
                },
                {
                  "type": 12,
                  "content": {
                    "version": "NotebookGroup/1.0",
                    "groupType": "editable",
                    "title": "CPU Metrics",
                    "items": [
                      {
                        "type": 3,
                        "content": {
                          "version": "KqlItem/1.0",
                          "query": "HDInsightAmbariSystemMetrics\r\n| extend NodeType = substring(HostName,0,2)\r\n| summarize CPUUsagePercentage = avg(100 - CpuIdle) by NodeType, bin(TimeGenerated, {TimeRange:grain})\r\n",
                          "size": 0,
                          "aggregation": 5,
                          "showAnalytics": true,
                          "title": "CPU Usage Percentage by Node Type",
                          "timeContext": {
                            "durationMs": 7776000000
                          },
                          "timeContextFromParameter": "TimeRange",
                          "queryType": 0,
                          "resourceType": "microsoft.hdinsight/clusters",
                          "crossComponentResources": [
                            "{Cluster}"
                          ],
                          "visualization": "linechart",
                          "chartSettings": {
                            "ySettings": {
                              "numberFormatSettings": {
                                "unit": 1,
                                "options": {
                                  "style": "decimal",
                                  "useGrouping": true,
                                  "maximumSignificantDigits": 3
                                }
                              }
                            }
                          }
                        },
                        "customWidth": "50",
                        "name": "CPU Usage Percentage by Node Type"
                      },
                      {
                        "type": 3,
                        "content": {
                          "version": "KqlItem/1.0",
                          "query": "HDInsightAmbariSystemMetrics\r\n| summarize CPUUsagePercentage = avg(100 - CpuIdle) by HostName, bin(TimeGenerated, {TimeRange:grain})\r\n|order by TimeGenerated desc\r\n| summarize arg_max(TimeGenerated, *) by HostName\r\n| sort by CPUUsagePercentage desc",
                          "size": 0,
                          "aggregation": 5,
                          "showAnalytics": true,
                          "title": "CPU Usage Percentage by Host",
                          "timeContext": {
                            "durationMs": 7776000000
                          },
                          "timeContextFromParameter": "TimeRange",
                          "queryType": 0,
                          "resourceType": "microsoft.hdinsight/clusters",
                          "crossComponentResources": [
                            "{Cluster}"
                          ],
                          "visualization": "table",
                          "gridSettings": {
                            "formatters": [
                              {
                                "columnMatch": "CPUUsagePercentage",
                                "formatter": 8,
                                "formatOptions": {
                                  "min": 0,
                                  "max": 100,
                                  "palette": "greenRed"
                                },
                                "numberFormat": {
                                  "unit": 1,
                                  "options": {
                                    "style": "decimal",
                                    "useGrouping": false,
                                    "maximumSignificantDigits": 3
                                  }
                                }
                              }
                            ],
                            "sortBy": [
                              {
                                "itemKey": "$gen_heatmap_CPUUsagePercentage_2",
                                "sortOrder": 2
                              }
                            ]
                          },
                          "sortBy": [
                            {
                              "itemKey": "$gen_heatmap_CPUUsagePercentage_2",
                              "sortOrder": 2
                            }
                          ]
                        },
                        "customWidth": "50",
                        "showPin": true,
                        "name": "CPU Usage Percentage by Host"
                      }
                    ]
                  },
                  "conditionalVisibility": {
                    "parameterName": "metrics_tab",
                    "comparison": "isEqualTo",
                    "value": "CPU"
                  },
                  "name": "CPU"
                },
                {
                  "type": 12,
                  "content": {
                    "version": "NotebookGroup/1.0",
                    "groupType": "editable",
                    "title": "Memory Metrics",
                    "items": [
                      {
                        "type": 3,
                        "content": {
                          "version": "KqlItem/1.0",
                          "query": "HDInsightAmbariSystemMetrics\r\n| extend NodeType = substring(HostName,0,2)\r\n| summarize FreeMemory = avg(FreeMemory) by NodeType, bin(TimeGenerated, {TimeRange:grain})\r\n",
                          "size": 0,
                          "aggregation": 5,
                          "showAnalytics": true,
                          "title": "Free Memory in Bytes by Node Type",
                          "timeContext": {
                            "durationMs": 7776000000
                          },
                          "timeContextFromParameter": "TimeRange",
                          "queryType": 0,
                          "resourceType": "microsoft.hdinsight/clusters",
                          "crossComponentResources": [
                            "{Cluster}"
                          ],
                          "visualization": "linechart",
                          "chartSettings": {
                            "ySettings": {
                              "numberFormatSettings": {
                                "unit": 2,
                                "options": {
                                  "style": "decimal",
                                  "useGrouping": true
                                }
                              }
                            }
                          }
                        },
                        "customWidth": "50",
                        "showPin": true,
                        "name": "Free Memory in Bytes by Node Type"
                      },
                      {
                        "type": 3,
                        "content": {
                          "version": "KqlItem/1.0",
                          "query": "HDInsightAmbariSystemMetrics\r\n| summarize MemoryUsedPercentage = (1 - sum(FreeMemory)/sum(TotalMemory))*100 by  HostName, bin(TimeGenerated, {TimeRange:grain})\r\n|order by TimeGenerated desc\r\n| summarize arg_max(TimeGenerated, *) by HostName\r\n| sort by MemoryUsedPercentage desc",
                          "size": 0,
                          "aggregation": 5,
                          "showAnalytics": true,
                          "title": "Memory Usage Percentage by Host",
                          "timeContext": {
                            "durationMs": 7776000000
                          },
                          "timeContextFromParameter": "TimeRange",
                          "queryType": 0,
                          "resourceType": "microsoft.hdinsight/clusters",
                          "crossComponentResources": [
                            "{Cluster}"
                          ],
                          "visualization": "table",
                          "gridSettings": {
                            "formatters": [
                              {
                                "columnMatch": "MemoryUsedPercentage",
                                "formatter": 8,
                                "formatOptions": {
                                  "min": 0,
                                  "max": 100,
                                  "palette": "greenRed"
                                },
                                "numberFormat": {
                                  "unit": 1,
                                  "options": {
                                    "style": "decimal",
                                    "useGrouping": false,
                                    "maximumSignificantDigits": 3
                                  }
                                }
                              }
                            ]
                          }
                        },
                        "customWidth": "50",
                        "showPin": true,
                        "name": "Memory Usage Percentage by Host"
                      }
                    ]
                  },
                  "conditionalVisibility": {
                    "parameterName": "metrics_tab",
                    "comparison": "isEqualTo",
                    "value": "Memory"
                  },
                  "name": "Memory"
                },
                {
                  "type": 12,
                  "content": {
                    "version": "NotebookGroup/1.0",
                    "groupType": "editable",
                    "title": "Load Metrics",
                    "items": [
                      {
                        "type": 3,
                        "content": {
                          "version": "KqlItem/1.0",
                          "query": "HDInsightAmbariSystemMetrics\r\n| extend NodeType = substring(HostName,0,2)\r\n| summarize OneMinuteLoad = avg(OneMinuteLoad) by NodeType, bin(TimeGenerated, {TimeRange:grain})",
                          "size": 0,
                          "aggregation": 5,
                          "showAnalytics": true,
                          "title": "One Minute Load by Node Type",
                          "timeContext": {
                            "durationMs": 7776000000
                          },
                          "timeContextFromParameter": "TimeRange",
                          "queryType": 0,
                          "resourceType": "microsoft.hdinsight/clusters",
                          "crossComponentResources": [
                            "{Cluster}"
                          ],
                          "visualization": "linechart"
                        },
                        "customWidth": "50",
                        "name": "query - 0"
                      },
                      {
                        "type": 3,
                        "content": {
                          "version": "KqlItem/1.0",
                          "query": "HDInsightAmbariSystemMetrics\r\n| where ClusterName == '{Cluster:label}'\r\n| summarize OneMinuteLoad = avg(OneMinuteLoad) by HostName, bin(TimeGenerated, {TimeRange:grain})\r\n|order by TimeGenerated desc\r\n| summarize arg_max(TimeGenerated, *) by HostName\r\n| sort by OneMinuteLoad desc",
                          "size": 0,
                          "aggregation": 5,
                          "showAnalytics": true,
                          "title": "One Minute Load by Node",
                          "timeContext": {
                            "durationMs": 7776000000
                          },
                          "timeContextFromParameter": "TimeRange",
                          "queryType": 0,
                          "resourceType": "microsoft.hdinsight/clusters",
                          "crossComponentResources": [
                            "{Cluster}"
                          ],
                          "visualization": "table",
                          "gridSettings": {
                            "formatters": [
                              {
                                "columnMatch": "OneMinuteLoad",
                                "formatter": 8,
                                "formatOptions": {
                                  "palette": "red"
                                }
                              }
                            ]
                          }
                        },
                        "customWidth": "50",
                        "name": "query - 0 - Copy"
                      },
                      {
                        "type": 3,
                        "content": {
                          "version": "KqlItem/1.0",
                          "query": "HDInsightAmbariSystemMetrics\r\n| where ClusterName == '{Cluster:label}'\r\n| extend NodeType = substring(HostName,0,2)\r\n| summarize FiveMinuteLoad = avg(FiveMinuteLoad) by NodeType, bin(TimeGenerated, {TimeRange:grain})",
                          "size": 0,
                          "aggregation": 5,
                          "showAnalytics": true,
                          "title": "Five Minute Load by Node Type",
                          "timeContext": {
                            "durationMs": 7776000000
                          },
                          "timeContextFromParameter": "TimeRange",
                          "queryType": 0,
                          "resourceType": "microsoft.hdinsight/clusters",
                          "crossComponentResources": [
                            "{Cluster}"
                          ],
                          "visualization": "linechart"
                        },
                        "customWidth": "50",
                        "name": "query - 0 - Copy"
                      },
                      {
                        "type": 3,
                        "content": {
                          "version": "KqlItem/1.0",
                          "query": "HDInsightAmbariSystemMetrics\r\n| summarize FiveMinuteLoad = avg(FiveMinuteLoad) by HostName, bin(TimeGenerated, {TimeRange:grain})\r\n|order by TimeGenerated desc\r\n| summarize arg_max(TimeGenerated, *) by HostName\r\n| sort by FiveMinuteLoad desc",
                          "size": 0,
                          "aggregation": 5,
                          "showAnalytics": true,
                          "title": "Five Minute Load by Node",
                          "timeContext": {
                            "durationMs": 7776000000
                          },
                          "timeContextFromParameter": "TimeRange",
                          "queryType": 0,
                          "resourceType": "microsoft.hdinsight/clusters",
                          "crossComponentResources": [
                            "{Cluster}"
                          ],
                          "visualization": "table",
                          "gridSettings": {
                            "formatters": [
                              {
                                "columnMatch": "FiveMinuteLoad",
                                "formatter": 8,
                                "formatOptions": {
                                  "palette": "red"
                                }
                              }
                            ]
                          }
                        },
                        "customWidth": "50",
                        "name": "query - 0 - Copy - Copy"
                      }
                    ]
                  },
                  "conditionalVisibility": {
                    "parameterName": "metrics_tab",
                    "comparison": "isEqualTo",
                    "value": "Load"
                  },
                  "name": "Load"
                }
              ]
            },
            "conditionalVisibilities": [
              {
                "parameterName": "Cluster",
                "comparison": "isNotEqualTo"
              },
              {
                "parameterName": "tab",
                "comparison": "isEqualTo",
                "value": "SystemMetrics"
              }
            ],
            "name": "System Metrics"
          },
          {
            "type": 12,
            "content": {
              "version": "NotebookGroup/1.0",
              "groupType": "editable",
              "title": "Storm Logs",
              "items": [
                {
                  "type": 9,
                  "content": {
                    "version": "KqlParameterItem/1.0",
                    "crossComponentResources": [
                      "{Cluster}"
                    ],
                    "parameters": [
                      {
                        "id": "79c29bef-fb44-479a-bf22-5882894f4a11",
                        "version": "KqlParameterItem/1.0",
                        "name": "LogType",
                        "type": 2,
                        "description": "Logs type for the log viewer and count graphic",
                        "isRequired": true,
                        "multiSelect": true,
                        "quote": "'",
                        "delimiter": ",",
                        "query": "HDInsightStormLogs\r\n| where TimeGenerated {TimeRange}\r\n| distinct LogType\r\n| order by LogType\r\n| project LogType, label=LogType, selected=row_number()",
                        "crossComponentResources": [
                          "{Cluster}"
                        ],
                        "typeSettings": {
                          "additionalResourceOptions": [],
                          "showDefault": false
                        },
                        "timeContext": {
                          "durationMs": 0
                        },
                        "timeContextFromParameter": "TimeRange",
                        "queryType": 0,
                        "resourceType": "microsoft.hdinsight/clusters"
                      },
                      {
                        "id": "0c754d9c-7500-4604-9ab7-46e350f38593",
                        "version": "KqlParameterItem/1.0",
                        "name": "LogLevel",
                        "type": 2,
                        "description": "Log Levels shown in the log viewer and log count graphic",
                        "isRequired": true,
                        "multiSelect": true,
                        "quote": "'",
                        "delimiter": ",",
                        "query": "HDInsightStormLogs\r\n| where TimeGenerated {TimeRange}\r\n| distinct LogLevel",
                        "crossComponentResources": [
                          "{Cluster}"
                        ],
                        "typeSettings": {
                          "additionalResourceOptions": [
                            "value::all"
                          ],
                          "showDefault": false
                        },
                        "timeContext": {
                          "durationMs": 0
                        },
                        "timeContextFromParameter": "TimeRange",
                        "defaultValue": "value::all",
                        "queryType": 0,
                        "resourceType": "microsoft.hdinsight/clusters"
                      },
                      {
                        "id": "b2e9f307-3338-4482-b531-cf0e71f857c9",
                        "version": "KqlParameterItem/1.0",
                        "name": "NumberOfLogs",
                        "type": 1,
                        "description": "Number of logs shown in log viewer",
                        "isRequired": true,
                        "value": "15",
                        "timeContext": {
                          "durationMs": 604800000
                        },
                        "timeContextFromParameter": "TimeRange"
                      }
                    ],
                    "style": "above",
                    "queryType": 0,
                    "resourceType": "microsoft.hdinsight/clusters"
                  },
                  "name": "Kafka Log Parameters"
                },
                {
                  "type": 3,
                  "content": {
                    "version": "KqlItem/1.0",
                    "query": "HDInsightStormLogs\r\n| where LogType in ({LogType}) and LogLevel in ({LogLevel})\r\n| take {NumberOfLogs}\r\n| project TimeGenerated, LogType, LogLevel ,Message\r\n|order by TimeGenerated desc",
                    "size": 0,
                    "showAnalytics": true,
                    "title": "Storm Log Viewer",
                    "timeContext": {
                      "durationMs": 0
                    },
                    "timeContextFromParameter": "TimeRange",
                    "queryType": 0,
                    "resourceType": "microsoft.hdinsight/clusters",
                    "crossComponentResources": [
                      "{Cluster}"
                    ],
                    "visualization": "table"
                  },
                  "name": "Storm Log Viewer"
                },
                {
                  "type": 3,
                  "content": {
                    "version": "KqlItem/1.0",
                    "query": "HDInsightStormLogs\r\n| where LogType in ({LogType}) and LogLevel in ({LogLevel})\r\n| summarize count() by LogLevel, bin(TimeGenerated, {TimeRange:grain})\r\n|order by TimeGenerated desc\r\n| take 10000",
                    "size": 0,
                    "aggregation": 5,
                    "showAnalytics": true,
                    "title": "Storm Log Record Count",
                    "timeContext": {
                      "durationMs": 0
                    },
                    "timeContextFromParameter": "TimeRange",
                    "queryType": 0,
                    "resourceType": "microsoft.hdinsight/clusters",
                    "crossComponentResources": [
                      "{Cluster}"
                    ],
                    "visualization": "linechart",
                    "chartSettings": {
                      "seriesLabelSettings": [
                        {
                          "seriesName": "ERROR",
                          "label": "Error",
                          "color": "redBright"
                        },
                        {
                          "seriesName": "INFO",
                          "label": "Info",
                          "color": "green"
                        },
                        {
                          "seriesName": "WARN",
                          "label": "Warning",
                          "color": "yellow"
                        }
                      ]
                    }
                  },
                  "name": "Storm Log Count"
                }
              ]
            },
            "conditionalVisibilities": [
              {
                "parameterName": "Cluster",
                "comparison": "isNotEqualTo"
              },
              {
                "parameterName": "tab",
                "comparison": "isEqualTo",
                "value": "ComponentLogs"
              }
            ],
            "name": "Component Logs"
          }
        ]
      },
      "conditionalVisibility": {
        "parameterName": "usage",
        "comparison": "isEqualTo",
        "value": "present"
      },
      "name": "Usage"
    },
    {
      "type": 12,
      "content": {
        "version": "NotebookGroup/1.0",
        "groupType": "editable",
        "items": []
      },
      "name": "group - 3"
    },
    {
      "type": 12,
      "content": {
        "version": "NotebookGroup/1.0",
        "groupType": "editable",
        "items": [
          {
            "type": 1,
            "content": {
              "json": "No Logs present in your workspace. Please make sure you have enabled Azure Monitor for your cluster.",
              "style": "info"
            },
            "name": "text - 0"
          }
        ]
      },
      "conditionalVisibility": {
        "parameterName": "usage",
        "comparison": "isEqualTo",
        "value": "n"
      },
      "name": "No Usage"
    }
  ],
  "fallbackResourceIds": [
    "Azure Monitor"
  ],
  "$schema": "https://github.com/Microsoft/Application-Insights-Workbooks/blob/master/schema/workbook.json"
}